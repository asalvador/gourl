box: wercker/golang

# Build definition
build:
    steps:
        # Sets the go workspace and places you package
        # at the right place in the workspace tree
        - setup-go-workspace

        # Gets the dependencies
        - script:
            name: go get
            code: |
                cd $WERCKER_SOURCE_DIR
                go version
                go get -v github.com/tools/godep

        # Build the project
        - script:
            name: go build
            code: |
                godep go build ./...

        # Test the project
        - script:
            name: go test
            code: |
                godep go test ./...

